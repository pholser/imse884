Minimize
colors_used: w1 + w2 + w3 + w4
Subject To
n1: x1,1 + x1,2 + x1,3 + x1,4 = 1
n2: x2,1 + x2,2 + x2,3 + x2,4 = 1
n3: x3,1 + x3,2 + x3,3 + x3,4 = 1
n4: x4,1 + x4,2 + x4,3 + x4,4 = 1
e1,3_1: x1,1 + x3,1 - w1 <= 0
e1,3_2: x1,2 + x3,2 - w2 <= 0
e1,3_3: x1,3 + x3,3 - w3 <= 0
e1,3_4: x1,4 + x3,4 - w4 <= 0
e1,4_1: x1,1 + x4,1 - w1 <= 0
e1,4_2: x1,2 + x4,2 - w2 <= 0
e1,4_3: x1,3 + x4,3 - w3 <= 0
e1,4_4: x1,4 + x4,4 - w4 <= 0
e2,4_1: x2,1 + x4,1 - w1 <= 0
e2,4_2: x2,2 + x4,2 - w2 <= 0
e2,4_3: x2,3 + x4,3 - w3 <= 0
e2,4_4: x2,4 + x4,4 - w4 <= 0
e3,4_1: x3,1 + x4,1 - w1 <= 0
e3,4_2: x3,2 + x4,2 - w2 <= 0
e3,4_3: x3,3 + x4,3 - w3 <= 0
e3,4_4: x3,4 + x4,4 - w4 <= 0
s1_1: x1,1 + x2,1 + x3,1 + x4,1 - w1 >= 0
s1_2: x1,2 + x2,2 + x3,2 + x4,2 - w2 >= 0
s1_3: x1,3 + x2,3 + x3,3 + x4,3 - w3 >= 0
s1_4: x1,4 + x2,4 + x3,4 + x4,4 - w4 >= 0
s2_1: w1 - w2 >= 0
s2_2: w2 - w3 >= 0
s2_3: w3 - w4 >= 0
Bounds
0 <= x1,1 <= 1
0 <= x1,2 <= 1
0 <= x1,3 <= 1
0 <= x1,4 <= 1
0 <= x2,1 <= 1
0 <= x2,2 <= 1
0 <= x2,3 <= 1
0 <= x2,4 <= 1
0 <= x3,1 <= 1
0 <= x3,2 <= 1
0 <= x3,3 <= 1
0 <= x3,4 <= 1
0 <= x4,1 <= 1
0 <= x4,2 <= 1
0 <= x4,3 <= 1
0 <= x4,4 <= 1
0 <= w1 <= 1
0 <= w2 <= 1
0 <= w3 <= 1
0 <= w4 <= 1
End